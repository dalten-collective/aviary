import{D as G,G as v,o as t,c as s,J as e,N as p,b as M,L as h,M as g,P as b,Q as x,O as I,Y as k,V as O,W as E,S as R,H as C,K as $,Z as U,$ as j,a as V,U as A}from"./index.e17e8672.js";import{a as N}from"./index.1c4e05d6.js";import{_ as S}from"./plugin-vue_export-helper.21dcd24c.js";const y=o=>(O("data-v-3a79fe1e"),o=o(),E(),o),B={key:0},D={class:"text-stone-500"},H={key:1},T={class:"font-bold"},K=y(()=>e("br",null,null,-1)),L={key:0},P={class:"mb-2"},W=y(()=>e("strong",null,"Resources",-1)),Y={class:"mb-2"},z=y(()=>e("strong",null,"Group Admins",-1)),F={class:"mb-2"},J=y(()=>e("strong",null,"Group Members",-1)),Q={class:"flex flex-row items-center"},Z={class:"max-w-md mt-8 field-float group"},q=y(()=>e("label",{for:"newGroup",class:"float peer"}," New Group Name ",-1)),X=G({__name:"Envelope",props:{from:null,mail:null},setup(o){const a=o,d=v(!1),r=v(""),i=()=>{const f=r.value,c=a.mail.data["included-files"].map(m=>{const u=m.flag.split("/")[1];let l;switch(m.type){case"diary":l="note";break;case"chat":l="chat";break;case"heap":l="heap";break}return{type:l,"old-resource":m.flag,"new-resource-name":u}}),n={group:a.mail.group,host:a.from,"new-group-name":f,roster:{members:!0,administrators:!0},include:c};console.log(n),k.MailRead(n)},_=()=>{const f=a.mail.group,c=a.from;k.MailKill({host:c,group:f})};return(f,c)=>(t(),s("div",null,[e("div",null,"re: "+p(o.mail.group),1),o.mail.data==="NONE"?(t(),s("div",B,[e("span",D,"Awaiting mail on this slot from "+p(o.from)+"...",1)])):(t(),s("div",H,[e("span",T,"New mail from "+p(o.from)+"!",1),K,e("span",{class:"underline cursor-pointer",onClick:c[0]||(c[0]=n=>d.value=!d.value)},p(d.value?"Close":"Read"),1),d.value?(t(),s("div",L,[e("ul",null,[e("li",P,[W,M(": "),e("ol",null,[(t(!0),s(h,null,g(o.mail.data["included-files"],n=>(t(),s("li",null,p(n.flag)+" ("+p(n.type)+") ",1))),256))])]),e("li",Y,[z,M(": "),e("ol",null,[(t(!0),s(h,null,g(o.mail.data.admins,n=>(t(),s("li",null,p(n),1))),256))])]),e("li",F,[J,M(": "),e("ol",null,[(t(!0),s(h,null,g(o.mail.data.members,n=>(t(),s("li",null,p(n),1))),256))])])]),e("div",Q,[e("div",Z,[b(e("input",{type:"text",id:"newGroup","onUpdate:modelValue":c[1]||(c[1]=n=>r.value=n),class:"bg-white float peer"},null,512),[[x,r.value]]),q]),e("div",{class:"ml-2"},[e("button",{class:"bg-white",onClick:i},"Import!")])])])):I("",!0)])),e("button",{class:"mt-4 bg-white",onClick:_},"Delete Mail")]))}});var ee=S(X,[["__scopeId","data-v-3a79fe1e"]]);const oe={class:"pl-2 border-l-4"},te=G({__name:"Envelopes",props:{mails:null,from:null},setup(o){return(a,d)=>(t(),s("div",oe,[e("ul",null,[e("li",null," from: "+p(o.from),1),e("li",null,[(t(!0),s(h,null,g(o.mails,r=>(t(),R(ee,{mail:r,from:o.from,class:"p-4 my-4 bg-stone-100 rounded-md"},null,8,["mail","from"]))),256))])])]))}});var se=S(te,[["__scopeId","data-v-f4b46b1a"]]);const le=o=>(O("data-v-f9bb73d0"),o=o(),E(),o),ae={class:"flex flex-col"},ne={class:"mb-4"},re={class:"max-w-md field-float group"},ie=le(()=>e("label",{for:"rec",class:"float peer"},"Recipient",-1)),ce={class:"text-right"},de=G({__name:"GroupMailer",props:{group:null},setup(o){const a=v(""),d=r=>{const i=N(a.value);k.MailSend({recipient:i,group:r})};return(r,i)=>(t(),s("div",ae,[e("h5",ne,p(o.group),1),e("div",null,[e("div",re,[b(e("input",{type:"text",id:"rec","onUpdate:modelValue":i[0]||(i[0]=_=>a.value=_),class:"float peer"},null,512),[[x,a.value]]),ie]),e("div",ce,[e("button",{onClick:i[1]||(i[1]=_=>d(o.group))},"send")])])]))}});var ue=S(de,[["__scopeId","data-v-f9bb73d0"]]);const pe={class:"container mx-auto my-8"},me=e("div",{class:"flex flex-row items-center justify-between"},[e("div",null,[e("h2",null,"Remote Restore")])],-1),_e=U('<div class="flex flex-row items-center justify-end"><div class="relative z-0 items-center my-2 mr-2 group"><input type="text" class="py-1 rounded-md float peer" placeholder="Search" id="search"><label class="float peer" for="search">Search</label></div><div><select class="p-2 bg-white cursor-pointer rounded-md"><option selected> All Resoures </option><option> Groups </option><option> Chats </option><option> Galleries </option><option> Notebooks </option></select></div></div>',1),fe={class:"my-4"},ve={class:"flex flex-row"},he={class:"flex-1 p-4 m-4 border rounded-lg"},ge={key:0},be=e("h4",null,"No incoming mail!",-1),xe=[be],ye={key:1},we=e("h4",{class:"mb-4"},"You've got mail:",-1),$e={class:"flex-1 p-4 m-4 border"},ke={class:"flex flex-col"},Ge=e("h4",{class:"mt-2 mb-8"},"Open slot for restore",-1),Me={class:"max-w-md field-float group"},Ne=e("label",{class:"float peer",for:"slothost"},"Who will send you the group?",-1),Se={class:"max-w-md field-float group"},Ce=e("label",{class:"float peer",for:"grouphost"},"Original group host",-1),Ve={class:"max-w-md field-float group"},Oe=e("label",{class:"float peer",for:"slotGroup"},"Group name",-1),Ee={class:"p-4 m-4 border rounded-lg"},Ie=e("h4",{class:"mb-4"},"Mail Groups",-1),Re={class:"flex flex-col"},Be=G({__name:"Mail",setup(o){const a=A(),d=v(""),r=v(""),i=v(""),_=()=>{a.dispatch(j.ScryMailslots)},f=()=>{const m=N(d.value),u=N(r.value),l=i.value,w=`${u}/${l}`;console.log({host:m,group:w}),k.MailOpen({host:m,group:w})},c=C(()=>a.state.mailslot),n=C(()=>a.state.groups);return(m,u)=>(t(),s("div",pe,[e("header",null,[me,e("div",{class:"flex flex-row items-center justify-between px-4 py-2 my-4 bg-stone-300"},[e("div",null,[e("button",{class:"bg-white",onClick:_},"Check mail")]),_e])]),e("div",fe,[e("div",ve,[e("div",he,[!$(c)||Object.keys($(c)).length===0?(t(),s("div",ge,xe)):(t(),s("div",ye,[we,(t(!0),s(h,null,g($(c),(l,w)=>(t(),s("div",null,[V(se,{class:"mb-8",from:w,mails:l},null,8,["from","mails"])]))),256))]))]),e("div",$e,[e("div",ke,[Ge,e("div",Me,[b(e("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=l=>d.value=l),class:"float peer",id:"slothost"},null,512),[[x,d.value]]),Ne]),e("div",Se,[b(e("input",{type:"text","onUpdate:modelValue":u[1]||(u[1]=l=>r.value=l),class:"float peer",id:"grouphost"},null,512),[[x,r.value]]),Ce]),e("div",Ve,[b(e("input",{type:"text","onUpdate:modelValue":u[2]||(u[2]=l=>i.value=l),class:"float peer",id:"slotGroup"},null,512),[[x,i.value]]),Oe])]),e("button",{onClick:f},"Open")])]),e("div",Ee,[Ie,(t(!0),s(h,null,g($(n),l=>(t(),s("div",Re,[V(ue,{group:l,class:"max-w-md p-2 my-2 border rounded-md"},null,8,["group"])]))),256))])])]))}});export{Be as default};
